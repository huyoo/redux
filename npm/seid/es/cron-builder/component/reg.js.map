{"version":3,"sources":["cron-builder/component/reg.jsx"],"names":["React","EVERY","ANY","BETWEEN","FROM_EVERY","CHECK_BOX","LAST_WORK_DAY","LAST_MONTH_DAY","LAST_WEEK_DAY","WEEK_DAY","index","REG","getCurrentRegIndex","cronText","currentIndex","test","Object","keys","key","reg","undefined","Reg","props","updateCron","onChange","value","nextProps","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nconst EVERY = /^\\*$/;\nconst ANY = /^\\?$/;\nconst BETWEEN = /^\\d+-\\d+$/;\nconst FROM_EVERY = /^\\d+\\/\\d+$/;\nconst CHECK_BOX = /^(C|((\\d+,)*\\d+))$/;\nconst LAST_WORK_DAY = /^\\d+W$/;\nconst LAST_MONTH_DAY = /^L$/;\nconst LAST_WEEK_DAY = /^\\d+L$/;\nconst WEEK_DAY = /^\\d+#\\d+$/;\nconst index = {\n    EVERY: 'EVERY',\n    ANY: 'ANY',\n    BETWEEN: 'BETWEEN',\n    FROM_EVERY: 'FROM_EVERY',\n    CHECK_BOX: 'CHECK_BOX',\n    LAST_WORK_DAY: 'LAST_WORK_DAY',\n    LAST_MONTH_DAY: 'LAST_MONTH_DAY',\n    LAST_WEEK_DAY: 'LAST_WEEK_DAY',\n    WEEK_DAY: 'WEEK_DAY',\n};\nconst REG = {\n    [index.EVERY]: EVERY,\n    [index.ANY]: ANY,\n    [index.BETWEEN]: BETWEEN,\n    [index.FROM_EVERY]: FROM_EVERY,\n    [index.CHECK_BOX]: CHECK_BOX,\n    [index.LAST_WORK_DAY]: LAST_WORK_DAY,\n    [index.LAST_MONTH_DAY]: LAST_MONTH_DAY,\n    [index.LAST_WEEK_DAY]: LAST_WEEK_DAY,\n    [index.WEEK_DAY]: WEEK_DAY,\n};\nexport const getCurrentRegIndex = (cronText, currentIndex) => {\n    if (currentIndex && cronText && REG[currentIndex].test(cronText)) {\n        return currentIndex;\n    }\n    if (cronText) {\n        for (const key of Object.keys(REG)) {\n            const reg = REG[key];\n            if (reg.test(cronText)) {\n                return key;\n            }\n        }\n    }\n    return undefined;\n};\nclass Reg extends React.Component {\n    constructor(props) {\n        super(props);\n        this.updateCron = (cronText, currentIndex, onChange) => {\n            if (cronText === undefined) {\n                if (onChange) {\n                    onChange(currentIndex, cronText);\n                }\n                return;\n            }\n            if (currentIndex && REG[currentIndex].test(cronText)) {\n                if (onChange)\n                    onChange(currentIndex, cronText);\n                return;\n            }\n            for (const key of Object.keys(REG)) {\n                const reg = REG[key];\n                if (reg.test(cronText)) {\n                    if (onChange)\n                        onChange(key, cronText);\n                    return;\n                }\n            }\n            if (onChange)\n                onChange(index.EVERY, '*');\n        };\n        const { value } = props;\n        this.value = value;\n        // this.updateCron(value, currentIndex, onChange);\n    }\n    componentWillReceiveProps(nextProps) {\n        const { value, currentIndex, onChange } = nextProps;\n        if (this.value !== value) {\n            this.value = value;\n            this.updateCron(value, currentIndex, onChange);\n        }\n    }\n    render() {\n        return <div />;\n    }\n}\nexport default Reg;\nexport { index };\n"],"file":"reg.js"}