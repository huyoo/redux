{"version":3,"sources":["system-setting/SysSkinCheck.jsx"],"names":["React","Input","Icon","setThemes","CustomizeTheme","SysSkinCheck","arguments","state","show","themes","key","name","className","active","colorMap","colorClick","props","value","forEach","v","setState","applyCustomizeTheme","item","onChange","includes","replace","Object","keys","length","JSON","stringify","setCustomizeTheme","colorOnChange","event","target","checkTheme","map","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Input from 'antd/es/input';\nimport Icon from 'antd/es/icon';\nimport { setThemes } from '../utils/themeUtils';\nimport CustomizeTheme from './CustomizeTheme';\nclass SysSkinCheck extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            show: false,\n            themes: [\n                {\n                    key: 'red',\n                    name: '红',\n                    className: 'red',\n                    active: false,\n                    colorMap: {\n                        '@head-back_color': '#ee3828',\n                        '@sider-back_color': '#f9f9f9',\n                        '@sider-select_color': '#7a7a7a',\n                        '@select-color': '#ee3828',\n                        '@table_header_color': 'rgba(238,56,40,0.12)',\n                    },\n                },\n                {\n                    key: 'blue',\n                    name: '蓝',\n                    className: 'blue',\n                    active: false,\n                    colorMap: {\n                        '@head-back_color': '#4bb4ff',\n                        '@sider-back_color': '#f9f9f9',\n                        '@sider-select_color': '#7a7a7a',\n                        '@select-color': '#4bb4ff',\n                        '@table_header_color': 'rgba(75,180,255,0.12)',\n                    },\n                },\n                {\n                    key: 'cyan',\n                    name: '青',\n                    className: 'cyan',\n                    active: false,\n                    colorMap: {\n                        '@head-back_color': '#02bcab',\n                        '@sider-back_color': '#f9f9f9',\n                        '@sider-select_color': '#7a7a7a',\n                        '@select-color': '#02bcab',\n                        '@table_header_color': 'rgba(2,188,171,0.12)',\n                    },\n                },\n                {\n                    key: 'coffee',\n                    name: '咖啡',\n                    className: 'coffee',\n                    active: false,\n                    colorMap: {\n                        '@head-back_color': '#ac9d86',\n                        '@sider-back_color': '#f9f9f9',\n                        '@sider-select_color': '#7a7a7a',\n                        '@select-color': '#ac9d86',\n                        '@table_header_color': 'rgba(172,157,134,0.12)',\n                    },\n                },\n                {\n                    key: 'skyBlue',\n                    name: '蔚蓝',\n                    className: 'skyBlue',\n                    active: false,\n                    colorMap: {\n                        '@head-back_color': '#57c8da',\n                        '@sider-back_color': '#f9f9f9',\n                        '@sider-select_color': '#7a7a7a',\n                        '@select-color': '#57c8da',\n                        '@table_header_color': 'rgba(87,200,218,0.12)',\n                    },\n                },\n                {\n                    key: 'blackish',\n                    name: '墨绿',\n                    className: 'blackish',\n                    active: false,\n                    colorMap: {\n                        '@head-back_color': '#90b48a',\n                        '@sider-back_color': '#f9f9f9',\n                        '@sider-select_color': '#7a7a7a',\n                        '@select-color': '#90b48a',\n                        '@table_header_color': 'rgba(144,180,138,0.12)',\n                    },\n                },\n                {\n                    key: 'darkBlue',\n                    name: '深蓝',\n                    className: 'darkBlue',\n                    active: false,\n                    colorMap: {\n                        '@head-back_color': '#364760',\n                        '@sider-back_color': '#364760',\n                        '@sider-select_color': '#b0bcda',\n                        '@select-color': '#4498ff',\n                        '@table_header_color': 'rgba(39,174,255,0.12)',\n                    },\n                },\n            ],\n        };\n        /* 显示隐藏换肤功能面板 */\n        this.colorClick = () => {\n            const { value = '' } = this.props;\n            const { show, themes = [] } = this.state;\n            if (!show) {\n                themes.forEach(v => {\n                    v.active = v.className === value;\n                });\n                this.setState({\n                    themes,\n                    show: !show,\n                });\n            }\n            else {\n                this.setState({\n                    show: !show,\n                });\n            }\n        };\n        // 应用自定义主题\n        this.applyCustomizeTheme = (item) => {\n            const { onChange } = this.props;\n            // 过滤为空的属性+table属性浅色替换\n            for (const key in item) {\n                if (!item[key]) {\n                    delete item[key];\n                }\n                else if (key === '@table_header_color') {\n                    if (!item[key].includes('rgba(')) {\n                        item[key] = item[key].replace('rgb(', 'rgba(').replace(')', ',0.12)');\n                    }\n                }\n            }\n            setThemes(item, () => {\n                // 自定义主题名称统一为：自定义\n                if (onChange) {\n                    onChange(Object.keys(item).length > 0\n                        ? JSON.stringify(item)\n                            .replace('@head-back_color', '@header')\n                            .replace('@sider-back_color', '@sider')\n                            .replace('@sider-select_color', '@font')\n                            .replace('@select-color', '@button')\n                            .replace('@table_header_color', '@table')\n                        : null);\n                }\n            });\n        };\n        this.setCustomizeTheme = (item) => {\n            const { onChange } = this.props;\n            // 过滤为空的属性+table属性浅色替换\n            for (const key in item) {\n                if (!item[key]) {\n                    delete item[key];\n                }\n                else if (key === '@table_header_color') {\n                    if (!item[key].includes('rgba(')) {\n                        item[key] = item[key].replace('rgb(', 'rgba(').replace(')', ',0.12)');\n                    }\n                }\n            }\n            if (onChange) {\n                onChange(Object.keys(item).length > 0\n                    ? JSON.stringify(item)\n                        .replace('@head-back_color', '@header')\n                        .replace('@sider-back_color', '@sider')\n                        .replace('@sider-select_color', '@font')\n                        .replace('@select-color', '@button')\n                        .replace('@table_header_color', '@table')\n                    : null);\n            }\n        };\n    }\n    render() {\n        const { value, onChange } = this.props;\n        const { colorClick } = this;\n        const { show, themes = [] } = this.state;\n        const colorOnChange = (event) => {\n            // do somethings\n            if (onChange) {\n                onChange(event.target.value);\n            }\n        };\n        /* 更改主题方法 */\n        const checkTheme = (item) => {\n            if (onChange) {\n                onChange(JSON.stringify(item.colorMap)\n                    .replace('@head-back_color', '@header')\n                    .replace('@sider-back_color', '@sider')\n                    .replace('@sider-select_color', '@font')\n                    .replace('@select-color', '@button')\n                    .replace('@table_header_color', '@table'));\n            }\n        };\n        return (<div className=\"pc-check-panel\">\n        <Input placeholder=\"请选择\" onClick={colorClick} value={value} onChange={colorOnChange} allowClear/>\n        {show ? (<div className=\"pc-drop-menu\">\n            <div className=\"pc-drop-title\">\n              <span onClick={colorClick} title=\"关闭\">\n                <Icon type=\"close\"/>\n              </span>\n              请选择主题\n            </div>\n            <div className=\"pc-drop-content\">\n              <h3>已有主题</h3>\n              <ul>\n                {themes.map(v => (<li key={v.key} className={`pc-${v.className}${v.active ? ' active' : ''}`}>\n                    <span onClick={() => checkTheme(v)}>{v.name}</span>\n                  </li>))}\n              </ul>\n            </div>\n            <div className=\"pc-drop-content\">\n              <h3>自定义主题</h3>\n              <div className=\"pc-color-content\">\n                <CustomizeTheme onApply={this.applyCustomizeTheme} value={value} onChange={this.setCustomizeTheme}/>\n              </div>\n            </div>\n          </div>) : null}\n      </div>);\n    }\n}\nexport default SysSkinCheck;\n"],"file":"SysSkinCheck.js"}