{"version":3,"sources":["panel/index.jsx"],"names":["React","Component","ReactDOM","PropTypes","cls","Popconfirm","Animate","isEqual","ExtIcon","ScrollBar","ResizeMe","getUUID","LocaleReceiver","defaultLocale","Panel","props","setZIndex","e","panel","contains","target","tDom","findDOMNode","HTMLElement","parentNode","style","zIndex","resetZIndex","onExpand","onChange","isPortal","originExpand","state","expand","setState","collapse","classList","add","remove","Function","onCollapse","parentHeight","originCollapse","height","onRefresh","refresh","animationName","onClose","panelKey","animateCallback","renderBody","children","getToolBarBox","locale","exp","copse","closable","closeConfirm","triggerNode","renderPanel","className","title","width","cover","scroll","autoHideToolbar","showDrag","cn","portal","styles","bodyStyles","maxHeight","node","panelHead","panelBody","parentWidth","size","addEventListener","prevProps","onResize","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","headHeight","bodyPaddingLeft","paddingLeft","bodyPaddingRight","paddingRight","bodyPaddingTop","paddingTop","bodyPaddingBottom","paddingBottom","newSize","parseInt","bodyWidth","bodyHeight","removeEventListener","defaultProps","propTypes","bool","string","oneOfType","number","refreshRate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cls from 'classnames';\nimport Popconfirm from 'antd/es/popconfirm';\nimport Animate from '../animate';\nimport isEqual from 'react-fast-compare';\nimport ExtIcon from '../ext-icon';\nimport ScrollBar from '../scroll-bar';\nimport ResizeMe from '../resize-me';\nimport { getUUID } from '../utils';\nimport LocaleReceiver from '../seid-locale-receiver';\nimport defaultLocale from './locale';\nclass Panel extends Component {\n    constructor(props) {\n        super(props);\n        this.setZIndex = (e) => {\n            if (this.panel && this.panel.contains(e.target)) {\n                const tDom = ReactDOM.findDOMNode(this.panel);\n                if (tDom &&\n                    tDom instanceof HTMLElement &&\n                    tDom.parentNode &&\n                    tDom.parentNode instanceof HTMLElement &&\n                    tDom.parentNode.parentNode &&\n                    tDom.parentNode.parentNode instanceof HTMLElement) {\n                    tDom.parentNode.parentNode.style.zIndex = '20';\n                }\n            }\n        };\n        this.resetZIndex = () => {\n            const tDom = ReactDOM.findDOMNode(this.panel);\n            if (tDom &&\n                tDom instanceof HTMLElement &&\n                tDom.parentNode &&\n                tDom.parentNode instanceof HTMLElement &&\n                tDom.parentNode.parentNode &&\n                tDom.parentNode.parentNode instanceof HTMLElement) {\n                tDom.parentNode.parentNode.style.zIndex = 'inherit';\n            }\n        };\n        this.onExpand = () => {\n            const { onChange, isPortal } = this.props;\n            const { expand: originExpand } = this.state;\n            const expand = !originExpand;\n            this.setState({\n                expand,\n                collapse: false,\n            });\n            if (isPortal && this.panel) {\n                const tDom = ReactDOM.findDOMNode(this.panel);\n                if (tDom &&\n                    tDom instanceof HTMLElement &&\n                    tDom.parentNode &&\n                    tDom.parentNode instanceof HTMLElement &&\n                    tDom.parentNode.parentNode &&\n                    tDom.parentNode.parentNode instanceof HTMLElement) {\n                    if (expand) {\n                        tDom.parentNode.parentNode.classList.add('expand');\n                    }\n                    else {\n                        tDom.parentNode.parentNode.classList.remove('expand');\n                    }\n                }\n            }\n            if (onChange && onChange instanceof Function) {\n                onChange({\n                    expand,\n                    collapse: false,\n                });\n            }\n        };\n        this.onCollapse = () => {\n            const { onChange, isPortal } = this.props;\n            const { parentHeight, collapse: originCollapse } = this.state;\n            const collapse = !originCollapse;\n            this.setState({\n                collapse,\n                expand: false,\n            });\n            if (onChange && onChange instanceof Function) {\n                onChange({\n                    collapse,\n                    expand: false,\n                });\n            }\n            if (isPortal && this.panel) {\n                const tDom = ReactDOM.findDOMNode(this.panel);\n                if (tDom &&\n                    tDom instanceof HTMLElement &&\n                    tDom.parentNode &&\n                    tDom.parentNode instanceof HTMLElement &&\n                    tDom.parentNode.parentNode &&\n                    tDom.parentNode.parentNode instanceof HTMLElement) {\n                    if (collapse) {\n                        tDom.parentNode.parentNode.style.height = 'auto';\n                        tDom.parentNode.parentNode.classList.add('collapse');\n                    }\n                    else {\n                        tDom.parentNode.parentNode.style.height = `${parentHeight}px`;\n                        tDom.parentNode.parentNode.classList.remove('collapse');\n                    }\n                }\n            }\n        };\n        this.onRefresh = () => {\n            const { onRefresh } = this.props;\n            this.setState({\n                refresh: getUUID(),\n                animationName: 'fadeIn',\n            });\n            if (onRefresh && onRefresh instanceof Function) {\n                onRefresh();\n            }\n        };\n        this.onClose = () => {\n            const { onClose, panelKey } = this.props;\n            onClose && onClose(panelKey);\n        };\n        this.animateCallback = () => {\n            this.setState({ animationName: '' });\n        };\n        this.renderBody = () => {\n            const { children } = this.props;\n            const { animationName, refresh } = this.state;\n            return (<Animate className=\"panel-content\" type={animationName} callback={() => this.animateCallback} key={refresh}>\n        {children}\n      </Animate>);\n        };\n        this.getToolBarBox = (locale) => {\n            const { expand, collapse } = this.state;\n            const { expand: exp, collapse: copse } = this.props;\n            const { closable } = this.props;\n            return (<div className=\"toolbox\">\n        <ExtIcon type=\"reload\" className=\"tool-item loader\" onClick={this.onRefresh} antd/>\n        {exp ? (<ExtIcon type={`${expand ? 'panel-exit-full-screen' : 'panel-full-screen'}`} className=\"tool-item full-screen\" onClick={this.onExpand}/>) : null}\n        {copse && !expand ? (<ExtIcon type={`${collapse ? 'down-circle' : 'up-circle'}`} className=\"tool-item full-screen\" antd onClick={this.onCollapse}/>) : null}\n        {closable && !expand ? (<Popconfirm title={locale.closeConfirm} getPopupContainer={triggerNode => triggerNode.parentNode} placement=\"bottom\" onConfirm={() => this.onClose()}>\n            <ExtIcon type=\"close\" className=\"tool-item remove\" antd/>\n          </Popconfirm>) : null}\n      </div>);\n        };\n        this.renderPanel = (locale) => {\n            const { expand, collapse } = this.state;\n            const { className, title, width, height, style, cover, scroll, isPortal, autoHideToolbar, showDrag, } = this.props;\n            const cn = cls(className, {\n                'panel-full-screen': expand,\n                'panel-collapsed': collapse,\n                'auto-hide-toolbar': !expand && isPortal && autoHideToolbar,\n                portal: isPortal,\n                'no-drag': !showDrag && !expand,\n                cover,\n            });\n            const styles = Object.assign(Object.assign({}, style), { width });\n            const bodyStyles = {};\n            if (!expand) {\n                if (collapse) {\n                    bodyStyles.height = 0;\n                    bodyStyles.maxHeight = 0;\n                }\n                else {\n                    bodyStyles.height = height;\n                    bodyStyles.maxHeight = height;\n                }\n            }\n            if (isPortal) {\n                bodyStyles.height = '100%';\n                delete bodyStyles.maxHeight;\n                styles.width = '100%';\n                styles.height = '100%';\n            }\n            return (<div className={cls('seid-panel', cn)} ref={node => (this.panel = node)} style={styles}>\n        {autoHideToolbar && showDrag && !expand ? (<ExtIcon type=\"drag\" className=\"seid-drag-handler\"/>) : null}\n        {isPortal && autoHideToolbar && !expand ? this.getToolBarBox(locale) : null}\n        <div className=\"panel-header\" ref={node => (this.panelHead = node)}>\n          {!autoHideToolbar && showDrag && !expand ? (<ExtIcon type=\"drag\" className=\"seid-drag-handler\"/>) : null}\n          <div className=\"panel-header-title\">{title}</div>\n          {(isPortal && !autoHideToolbar) || expand || !isPortal\n                ? this.getToolBarBox(locale)\n                : null}\n        </div>\n        <div className=\"panel-body\" ref={node => (this.panelBody = node)} style={bodyStyles}>\n          {scroll ? <ScrollBar>{this.renderBody()}</ScrollBar> : this.renderBody()}\n        </div>\n      </div>);\n        };\n        this.state = {\n            collapse: false,\n            expand: false,\n            refresh: getUUID(),\n            animationName: '',\n            parentHeight: 0,\n            parentWidth: 0,\n        };\n    }\n    componentDidMount() {\n        const { isPortal, size } = this.props;\n        if (isPortal) {\n            this.panel.addEventListener('mouseenter', this.setZIndex, false);\n            this.panel.addEventListener('mouseleave', this.resetZIndex, false);\n            this.setState({\n                parentHeight: size.height,\n                parentWidth: size.width,\n            });\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (!isEqual(prevProps.size, this.props.size)) {\n            const { collapse } = this.state;\n            const { size, onResize } = this.props;\n            if (!collapse) {\n                this.setState({\n                    parentHeight: size.height,\n                    parentWidth: size.width,\n                });\n            }\n            const { height, width, borderLeftWidth, borderRightWidth, borderTopWidth, borderBottomWidth, } = getComputedStyle(this.panel);\n            const { height: headHeight } = getComputedStyle(this.panelHead);\n            const { paddingLeft: bodyPaddingLeft, paddingRight: bodyPaddingRight, paddingTop: bodyPaddingTop, paddingBottom: bodyPaddingBottom, } = getComputedStyle(this.panelBody);\n            const newSize = {\n                width: parseInt(width, 10),\n                bodyWidth: 0,\n                height: parseInt(height, 10),\n                bodyHeight: 0,\n            };\n            newSize.bodyWidth =\n                parseInt(width, 10) -\n                    parseInt(bodyPaddingLeft, 10) -\n                    parseInt(bodyPaddingRight, 10) -\n                    parseInt(borderLeftWidth, 10) -\n                    parseInt(borderRightWidth, 10);\n            newSize.bodyHeight =\n                parseInt(height, 10) -\n                    parseInt(borderTopWidth, 10) -\n                    parseInt(borderBottomWidth, 10) -\n                    parseInt(headHeight, 10) -\n                    parseInt(bodyPaddingTop, 10) -\n                    parseInt(bodyPaddingBottom, 10);\n            if (onResize && onResize instanceof Function) {\n                onResize(newSize);\n            }\n        }\n    }\n    componentWillUnmount() {\n        const { isPortal } = this.props;\n        if (isPortal) {\n            this.panel.removeEventListener('mouseenter', this.setZIndex);\n            this.panel.removeEventListener('mouseleave', this.resetZIndex);\n        }\n    }\n    render() {\n        return (<LocaleReceiver defaultLocale={defaultLocale} componentName=\"Panel\">\n        {this.renderPanel}\n      </LocaleReceiver>);\n    }\n}\nPanel.defaultProps = {\n    closable: false,\n    collapse: true,\n    expand: true,\n    showDrag: false,\n    scroll: false,\n    cover: false,\n    isPortal: false,\n    autoHideToolbar: false,\n    width: '100%',\n    height: 260,\n};\nPanel.propTypes = {\n    closable: PropTypes.bool,\n    title: PropTypes.string,\n    className: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\nexport default ResizeMe({ refreshRate: 50 })(Panel);\n"],"file":"index.js"}