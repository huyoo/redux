{"version":3,"sources":["select-table/index.jsx"],"names":["React","parse","uid","get","isUndefined","isEqual","forEach","Popover","Select","message","InputSearch","cls","ExtTable","ExtIcon","request","SeidLocaleReceiver","defaultLocale","getObjByList","obj","list","map","i","parseUrl","str","includes","split","url","paramStr","params","SelectTable","props","initColumns","columns","multi","otherColumns","filter","value","hidden","sort","a","b","dataIndex","code","title","name","align","render","r","setDefaultBox","width","length","finalColumns","locale","_","__","index","record","cursor","handleDoubleClickRow","color","concat","text","callback","data","totalSize","pageNum","pageSize","values","setState","loading","currentPage","handleSearch","searchContent","state","unionKey","dataSourceUrl","searchColumn","requestMethod","payload","paramValue","Array","isArray","key","requestData","vlist","v","JSON","stringify","handleTableChange","pagination","current","p","showKey","returnKey","onSelect","onChange","form","elementCode","m","businessCode","apiCode","undefined","Object","keys","setFieldsValue","inputContent","visible","handleFocus","parameter","formValue","getFieldsValue","flag","validateKeys","k","match","replace","val","uniqueKey","push","warning","validateFieldsAndScroll","handleChangeInputContent","onSelectChange","selected","rowKey","splice","onSelectAllChange","changeRows","find","c","getRowKey","rowkey","getTableRowKey","indexOf","returnPromise","method","then","res","success","content","companyCode","totalElements","error","err","renderCom","style","className","disabled","onBlur","autoFocus","placeholder","elementId","trigger","document","getElementById","e","target","x","y","total","onDoubleClick","nextProps","nextState","Component","defaultProps","getDerivedStateFromProps","valueList"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { parse } from 'qs';\nimport uid from 'lodash/uniqueId';\nimport get from 'lodash/get';\nimport isUndefined from 'lodash/isUndefined';\nimport isEqual from 'lodash/isEqual';\nimport forEach from 'lodash/forEach';\nimport Popover from 'antd/es/popover';\nimport Select from 'antd/es/select';\nimport message from 'antd/es/message';\nimport InputSearch from 'antd/es/input/Search';\nimport cls from 'classnames';\nimport ExtTable from '../ext-table';\nimport ExtIcon from '../ext-icon';\nimport { request } from '../utils';\nimport SeidLocaleReceiver from '../seid-locale-receiver';\nimport defaultLocale from './locale';\nconst getObjByList = (obj, list = []) => list.map(i => obj[i]);\nconst parseUrl = (str) => {\n    if (str.includes('?')) {\n        const [url, paramStr] = str.split('?');\n        const params = parse(paramStr);\n        return {\n            params,\n            url,\n        };\n    }\n    return {\n        url: str,\n        params: {},\n    };\n};\nclass SelectTable extends React.Component {\n    constructor(props) {\n        super(props);\n        // 初始化col\n        this.initColumns = () => {\n            const { columns, multi } = this.props;\n            const otherColumns = columns\n                .filter((value) => !value.hidden)\n                .sort((a, b) => a.sort - b.sort)\n                .map((i) => ({\n                dataIndex: i.code,\n                title: i.name,\n                align: 'center',\n                render: i.render ? i.render : (r) => this.setDefaultBox(r, i.width),\n            }));\n            if (columns && columns.length) {\n                this.finalColumns = multi\n                    ? [\n                        {\n                            dataIndex: 'index',\n                            title: get(this.locale, 'indexTitle'),\n                            align: 'center',\n                            width: 60,\n                            render: (_, __, index) => (<div style={{ width: 60 }}>{index + 1}</div>),\n                        },\n                    ]\n                    : [\n                        {\n                            dataIndex: 'index',\n                            title: get(this.locale, 'indexTitle'),\n                            align: 'center',\n                            width: 60,\n                            render: (_, __, index) => (<div style={{ width: 60 }}>{index + 1}</div>),\n                        },\n                        {\n                            dataIndex: 'choose',\n                            title: get(this.locale, 'selectTitle'),\n                            align: 'center',\n                            width: 60,\n                            render: (_, record) => (<div title={get(this.locale, 'selectTitle')} style={{ cursor: 'pointer' }} onClick={() => this.handleDoubleClickRow(record)}>\n                  <ExtIcon tooltip={{ title: get(this.locale, 'selectTitle') }} type=\"check\" antd style={{ color: '#00F60A' }}/>\n                </div>),\n                        },\n                    ];\n                this.finalColumns = this.finalColumns.concat(otherColumns);\n            }\n        };\n        this.setDefaultBox = (text, width) => (<div title={text} className=\"seid-col-content\" style={{ width: width || '100%' }}>\n      {text}\n    </div>);\n        this.callback = (data = [], totalSize, pageNum, pageSize) => {\n            const { values = [] } = this.props;\n            this.setState({\n                loading: false,\n                data: values.concat(data),\n                totalSize,\n                currentPage: pageNum,\n                pageSize,\n            });\n        };\n        this.handleSearch = () => {\n            const { searchContent } = this.state;\n            const { unionKey = 'code' } = this.props;\n            const { dataSourceUrl, values = [], columns = [], searchColumn = unionKey, requestMethod = 'get', } = this.props;\n            if (dataSourceUrl) {\n                this.setState({ loading: true });\n                const { url, params } = parseUrl(dataSourceUrl);\n                if (searchColumn) {\n                    const payload = Object.assign(Object.assign(Object.assign({}, params), this.paramValue), { pageNum: 1, pageSize: 5 });\n                    if (Array.isArray(searchColumn)) {\n                        searchColumn.forEach(key => {\n                            payload[key] = searchContent;\n                        });\n                    }\n                    else {\n                        payload[searchColumn] = searchContent;\n                    }\n                    // 请求数据\n                    this.requestData(url, payload, requestMethod);\n                }\n            }\n            else if (searchContent && searchContent !== '') {\n                const vlist = columns.filter(i => !i.hidden).map(i => i.code);\n                this.setState({\n                    data: values.filter(v => JSON.stringify(getObjByList(v, vlist)).includes(searchContent)),\n                });\n            }\n            else {\n                this.setState({ data: [...values] });\n            }\n        };\n        this.handleTableChange = (pagination) => {\n            const { unionKey = 'code' } = this.props;\n            const { dataSourceUrl, searchColumn = unionKey, requestMethod = 'get' } = this.props;\n            const { searchContent } = this.state;\n            const { current, pageSize } = pagination;\n            if (dataSourceUrl) {\n                this.setState({ loading: true });\n                const { url, params: p } = parseUrl(dataSourceUrl);\n                if (searchColumn && searchContent && searchContent !== '') {\n                    const payload = Object.assign(Object.assign(Object.assign({}, p), this.paramValue), { pageNum: current, pageSize });\n                    if (Array.isArray(searchColumn)) {\n                        searchColumn.forEach(key => {\n                            payload[key] = searchContent;\n                        });\n                    }\n                    else {\n                        payload[searchColumn] = searchContent;\n                    }\n                    // 请求数据\n                    this.requestData(url, payload, requestMethod);\n                }\n                else {\n                    const payload = Object.assign(Object.assign(Object.assign({}, p), this.paramValue), { pageNum: current, pageSize });\n                    // 请求数据\n                    this.requestData(url, payload, requestMethod);\n                }\n            }\n        };\n        // 单选模式下选择回调onSelect, onChange\n        this.handleDoubleClickRow = (record) => {\n            const { showKey = 'value', returnKey, onSelect, onChange, map = [], form, elementCode, } = this.props;\n            if (onSelect) {\n                onSelect(record);\n            }\n            const payload = {};\n            map.forEach(m => {\n                payload[m.businessCode] = get(record, m.apiCode) || undefined;\n            });\n            if (elementCode) {\n                payload[elementCode] = Object.assign({ value: get(record, showKey) }, record);\n            }\n            else if (onChange && !elementCode) {\n                if (returnKey) {\n                    onChange(Object.assign({ value: get(record, returnKey) }, record));\n                }\n                else {\n                    onChange(Object.assign({ value: get(record, showKey) }, record));\n                }\n            }\n            if (form && Object.keys(payload).length) {\n                form.setFieldsValue(payload);\n            }\n            this.setState({\n                inputContent: get(record, showKey),\n                visible: false,\n                searchContent: undefined,\n            });\n        };\n        // 光标选中后的回调，执行第一次初始化查询\n        this.handleFocus = () => {\n            const { dataSourceUrl, parameter, form, requestMethod = 'get' } = this.props;\n            const formValue = form ? form.getFieldsValue() : {};\n            let flag = true;\n            const paramValue = {};\n            const validateKeys = [];\n            // 匹配参数名\n            forEach(parameter, (v, k) => {\n                if (v && v.match && v.match(/\\${.+}/)) {\n                    const key = v.replace('${', '').replace('}', '');\n                    const val = get(formValue, key);\n                    if (isUndefined(val) || val === null) {\n                        const uniqueKey = key.split('.')[0];\n                        validateKeys.push(uniqueKey);\n                        flag = false;\n                    }\n                    else {\n                        paramValue[k] = val;\n                    }\n                }\n                else {\n                    paramValue[k] = v;\n                }\n            });\n            this.paramValue = paramValue;\n            if (!flag) {\n                message.warning(get(this.locale, 'preSegmentWarning'));\n                if (form) {\n                    form.validateFieldsAndScroll(validateKeys, () => { });\n                }\n                return;\n            }\n            if (dataSourceUrl) {\n                this.setState({ loading: true, searchContent: undefined });\n                const { url, params } = parseUrl(dataSourceUrl);\n                const payload = Object.assign(Object.assign(Object.assign({}, params), paramValue), { pageNum: 1, pageSize: 5 });\n                // 请求数据\n                this.requestData(url, payload, requestMethod);\n            }\n        };\n        this.handleChangeInputContent = (v) => {\n            if (Array.isArray(v)) {\n                if (!v.length) {\n                    const { onSelect, onChange } = this.props;\n                    if (onSelect) {\n                        onSelect({});\n                    }\n                    if (onChange) {\n                        onChange(undefined);\n                    }\n                }\n                return;\n            }\n            if (isUndefined(v) || v === '') {\n                // clear\n                const { onSelect, onChange, map = [], form, elementCode } = this.props;\n                if (onSelect) {\n                    onSelect({});\n                }\n                if (onChange && !elementCode) {\n                    onChange(undefined);\n                }\n                const payload = {};\n                map.forEach(m => {\n                    payload[m.businessCode] = undefined;\n                });\n                if (elementCode) {\n                    payload[elementCode] = undefined;\n                }\n                if (form && Object.keys(payload).length) {\n                    form.setFieldsValue(payload);\n                }\n                this.setState({ inputContent: undefined, visible: false, searchContent: undefined });\n            }\n        };\n        // 多选模式下选择回调onSelect, onChange\n        this.onSelectChange = (record, selected) => {\n            const { value = [], onChange, onSelect, rowKey } = this.props;\n            if (Array.isArray(value)) {\n                if (selected) {\n                    value.push(record);\n                }\n                else {\n                    value.forEach((v, index) => {\n                        if (v[rowKey] === record[rowKey]) {\n                            value.splice(index, 1);\n                        }\n                    });\n                }\n            }\n            if (onSelect) {\n                onSelect(value);\n            }\n            if (onChange) {\n                onChange(value);\n            }\n        };\n        this.onSelectAllChange = (selected, _, changeRows) => {\n            const { value = [], onChange, onSelect, rowKey } = this.props;\n            let params = [];\n            if (selected) {\n                params = value.concat(changeRows);\n            }\n            else {\n                value.forEach((v) => {\n                    if (!changeRows.find(c => c[rowKey] === v[rowKey])) {\n                        params.push(Object.assign({}, v));\n                    }\n                });\n            }\n            if (onSelect) {\n                onSelect(params);\n            }\n            if (onChange) {\n                onChange(params);\n            }\n        };\n        this.getRowKey = (r, rowkey) => {\n            if (rowkey && typeof rowkey === 'function') {\n                return rowkey(r);\n            }\n            return rowkey;\n        };\n        this.getTableRowKey = (rowkey) => {\n            if (rowkey && typeof rowkey === 'string' && rowkey.indexOf('.') > -1) {\n                return (r) => get(r, rowkey);\n            }\n            return rowkey;\n        };\n        // 请求数据\n        this.requestData = (url, payload, requestMethod) => {\n            const returnPromise = request({\n                method: requestMethod,\n                url,\n                params: payload,\n            });\n            if (returnPromise) {\n                returnPromise\n                    .then(res => {\n                    if (res.success && res.data && (res.data.content || res.data.companyCode)) {\n                        // 特殊情况组织树\n                        const obj = res.data.content;\n                        this.callback(obj, res.data.totalElements, payload.pageNum, payload.pageSize);\n                    }\n                    else {\n                        message.error(`${get(this.locale, 'requestError')}${res.message}`);\n                    }\n                })\n                    .catch(err => {\n                    message.error(`${get(this.locale, 'requestError')}${err}`);\n                    this.setState({ loading: false });\n                });\n            }\n        };\n        this.renderCom = (locale) => {\n            this.locale = locale;\n            const { rowKey, returnKey, value, values = [], showKey = 'value', multi, // 是否多选\n            content, //\n            style, className, disabled, onBlur, autoFocus, width, placeholder, } = this.props;\n            const { loading, currentPage, pageSize = 5, inputContent = multi\n                ? (value || []).map((v) => get(v, showKey))\n                : get(value, showKey) || value, // 兼顾老数据\n            data = values, searchContent, visible, totalSize, } = this.state;\n            return (<div id={this.elementId} style={Object.assign(Object.assign({}, style), { width })} className={cls('seid-scroll-select', className)}>\n        <Popover getPopupContainer={(trigger) => document.getElementById(this.elementId) || trigger} placement=\"bottom\" trigger=\"click\" visible={visible && !disabled} onVisibleChange={(v) => {\n                if (v) {\n                    this.handleFocus();\n                }\n                if (!v && onBlur) {\n                    onBlur();\n                }\n                this.setState({ visible: v });\n            }} content={<div className=\"seid-data-container\">\n              <InputSearch value={searchContent} onPressEnter={this.handleSearch} onSearch={this.handleSearch} className=\"input\" onChange={e => this.setState({ searchContent: e.target.value })}/>\n              <ExtTable rowSelection={multi} scroll={{ x: 400, y: 260 }} bordered size=\"small\" loading={loading} rowKey={this.getTableRowKey(rowKey || returnKey || showKey)} onChange={this.handleTableChange} data={{\n                list: data,\n                pagination: { current: currentPage, pageSize, total: totalSize },\n            }} columns={this.finalColumns} selectedRows={multi ? value || [] : []} onRow={record => {\n                if (multi) {\n                    return {};\n                }\n                return {\n                    onDoubleClick: () => this.handleDoubleClickRow(record),\n                };\n            }}/>\n            </div>}>\n          {content || (<Select mode={multi ? 'multiple' : undefined} autoFocus={autoFocus} open={false} showArrow={false} allowClear disabled={disabled} placeholder={placeholder} value={inputContent} onChange={this.handleChangeInputContent} onDropdownVisibleChange={v => {\n                if (v) {\n                    this.handleFocus();\n                }\n                if (!v && onBlur) {\n                    onBlur();\n                }\n                this.setState({ visible: v });\n            }}>\n              {Array.isArray(data) &&\n                data.map(v => (<Select.Option key={this.getRowKey(v, rowKey)} value={this.getRowKey(v, rowKey)} title={this.getRowKey(v, rowKey)}>\n                    {this.getRowKey(v, rowKey)}\n                  </Select.Option>))}\n            </Select>)}\n        </Popover>\n      </div>);\n        };\n        this.state = {\n            visible: false,\n            loading: false,\n        };\n        // 关联字段值\n        this.paramValue = {};\n        this.finalColumns = [];\n        this.elementId = `${uid()}-scrollWraper`;\n    }\n    componentDidMount() {\n        this.initColumns();\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        const { inputContent } = this.state;\n        const { value } = this.props;\n        if ((inputContent && isUndefined(nextState.inputContent)) ||\n            (value && isUndefined(nextProps.value))) {\n            this.handleChangeInputContent(undefined);\n        }\n        return true;\n    }\n    componentDidUpdate(nextProps) {\n        const { columns } = this.props;\n        if (columns && columns.length && !isEqual(nextProps.columns, columns)) {\n            this.initColumns();\n        }\n    }\n    render() {\n        return (<SeidLocaleReceiver defaultLocale={defaultLocale} componentName=\"SelectTable\">\n        {this.renderCom}\n      </SeidLocaleReceiver>);\n    }\n}\nSelectTable.defaultProps = {\n    multi: false,\n    showKey: 'name',\n    rowKey: 'key',\n};\nSelectTable.getDerivedStateFromProps = (props, state) => {\n    const { inputContent } = state;\n    const { value, showKey, multi } = props;\n    if (inputContent && !props.value) {\n        return { inputContent: undefined };\n    }\n    if (!multi && inputContent !== (get(value, showKey) || value)) {\n        return {\n            inputContent: get(value, showKey) || value,\n        };\n    }\n    if (multi && Array.isArray(value)) {\n        const valueList = (value || []).map(v => get(v, showKey));\n        if (inputContent && inputContent.length !== valueList.length) {\n            return { inputContent: valueList };\n        }\n    }\n    return null;\n};\nexport default SelectTable;\n"],"file":"index.js"}